##
# Você deve olhar para os seguintes URLs para obter uma compreensão sólida
# de arquivos de configuração do Nginx para liberar totalmente o poder do Nginx.
# https://www.nginx.com/resources/wiki/start/
# https://www.nginx.com/resources/wiki/start/topics/tutorials/config_pitfalls/
# https://wiki.debian.org/Nginx/DirectoryStructure
#
# Na maioria dos casos, os administradores removerão este arquivo de sites habilitados/ e
# deixe como referência dentro dos sites-disponíveis onde continuará sendo
# atualizado pela equipe de empacotamento do nginx.
#
# Este arquivo carregará automaticamente os arquivos de configuração fornecidos por outros
# aplicativos, como Drupal ou Wordpress. Estas aplicações serão feitas
# disponível abaixo de um caminho com esse nome de pacote, como /drupal8.
#
# Por favor, veja /usr/share/doc/nginx-doc/examples/ para exemplos mais detalhados.
##

# Configuração padrão do servidor
#
server {
	listen 80 default_server;
	listen [::]:80 default_server;

	# configuração SSL
	#
	# listen 443 ssl default_server;
	# listen [::]:443 ssl default_server;
	#
	# Nota: Você deve desabilitar o gzip para tráfego SSL.
	# Veja: https://bugs.debian.org/773332
	#
	# Leia sobre ssl_ciphers para garantir uma configuração segura.
	# Veja: https://bugs.debian.org/765782
	#
	# Certs autoassinados gerados pelo pacote ssl-cert
	# Não os use em um servidor de produção!
	#
	# include snippets/snakeoil.conf;

	root /home/www;

	# Adicione index.php à lista se você estiver usando PHP
	index index.php index.html index.htm index.nginx-debian.html;

	server_name _;

	location / {
		# Primeiro tente servir a solicitação como arquivo, depois
		# como diretório e, em seguida, volte a exibir um 404.
		try_files $uri $uri/ =404;
	}

	# passa scripts PHP para o servidor FastCGI
	#
	location ~ \.php$ {
		include snippets/fastcgi-php.conf;

		# Com php-fpm (ou outros soquetes unix):
		fastcgi_pass unix:/run/php/php8.1-fpm.sock;
		
		# Com php-cgi (ou outros soquetes tcp):
		# fastcgi_pass 127.0.0.1:9000;
	}

	# nega acesso a arquivos .htaccess, se o documento raiz do Apache
	# concorda com o do nginx
	#
	#location ~ /\.ht {
	#	deny all;
	#}
}


# Configuração de Host Virtual para example.com
#
# Você pode mover isso para um arquivo diferente em sites-available/ e criar um link simbólico que
# para sites-enabled/ para habilitá-lo.
#
#server {
#	listen 80;
#	listen [::]:80;
#
#	server_name example.com;
#
#	root /var/www/example.com;
#	index index.html;
#
#	location / {
#		try_files $uri $uri/ =404;
#	}
#}
